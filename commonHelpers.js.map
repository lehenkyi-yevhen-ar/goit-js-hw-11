{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector('#gallery-container');\n\n\nlet lightbox = new SimpleLightbox('#gallery-container a', {\n    captionsData: 'title',\n    captions: true,\n    captionDelay: 250,\n    overlay: true,\n    captionPosition: 'bottom',\n});\n\nexport function renderGallery(data) {\n    if (data.hits.length === 0) {\n        iziToast.info({\n            title: 'No results found',\n            message: 'Try a different search term.',\n        });\n        return;\n    }\n\n    const galleryHTML = data.hits.map(hit => `\n        <a href=\"${hit.largeImageURL}\" data-lightbox=\"gallery\" title=\"Tags: ${hit.tags}\">\n            <div class=\"image-wrapper\">\n                <img src=\"${hit.previewURL}\" alt=\"${hit.tags}\" title=\"\n                Tags: ${hit.tags} \n            \">\n            <div class=\"caption\">\n                <div class=\"su-caption\">\n                Likes ${hit.likes} </div>\n                <div class=\"su-caption\">\n                Views ${hit.views} </div>\n                <div class=\"su-caption\">\n                Comments ${hit.comments} </div>\n                <div class=\"su-caption\">\n                Downloads ${hit.downloads} </div>\n            </div>\n            </div>\n        </a>\n    `).join('');\n\n    galleryContainer.innerHTML = galleryHTML;\n\n\n    lightbox.refresh()\n}","import iziToast from \"izitoast\"\n\nexport function searchByQuery(query) {\n\nconst URL = 'https://pixabay.com/api/'\n\nconst API_KEY = '45189521-352d969f92f63c5bc874c10a6'\n\nconst params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n})\n\nreturn fetch(`${URL}?${params}`).then((res) => {\n    if (!res.ok) {\n        throw new Error(res.status)\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\"\n        })\n    }\n    return res.json()\n})\n\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderGallery } from \"./js/render-functions\";\n\nimport { searchByQuery } from \"./js/pixabay-api\";\n\nconst form = document.querySelector('.search-form')\n\nconst loadingIndicator = document.querySelector('.loader');\n\nconst galleryContainer = document.querySelector('#gallery-container');\n\n\n\n\n\nform.addEventListener('submit', handleSearch)\n\nfunction showLoadingIndicator() {\n    loadingIndicator.classList.remove('hidden');\n}\n\nfunction hideLoadingIndicator() {\n    loadingIndicator.classList.add('hidden');\n}\n\nfunction handleSearch(event) {\n    event.preventDefault()\n    if (form) {\n    galleryContainer.innerHTML = ''\n    }\n\n    const queryValue = event.currentTarget.elements.query.value.trim().toLowerCase()\n    if (queryValue === '') {\n        iziToast.info({\n            message: 'Type something to find!'\n        })\n        return\n    } \n\n    showLoadingIndicator();\n\n    searchByQuery(queryValue)\n    .then(renderGallery)\n    .catch(onError)\n    .finally(() => {\n        hideLoadingIndicator();\n        if (form) {\n            form.reset();\n        }\n        \n    })\n}\n\nfunction onError(error) {\n    iziToast.error({\n        title: 'Error',\n        message: `An error occured! ${error}`\n    })\n}\n// searchByQuery('dog')\n// .then((data) => {\n//     console.log(data);\n// })\n// .catch(console.log)"],"names":["galleryContainer","lightbox","SimpleLightbox","renderGallery","data","iziToast","galleryHTML","hit","searchByQuery","query","URL","API_KEY","params","res","form","loadingIndicator","handleSearch","showLoadingIndicator","hideLoadingIndicator","event","queryValue","onError","error"],"mappings":"6vBAKA,MAAMA,EAAmB,SAAS,cAAc,oBAAoB,EAGpE,IAAIC,EAAW,IAAIC,EAAe,uBAAwB,CACtD,aAAc,QACd,SAAU,GACV,aAAc,IACd,QAAS,GACT,gBAAiB,QACrB,CAAC,EAEM,SAASC,EAAcC,EAAM,CAChC,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,KAAK,CACV,MAAO,mBACP,QAAS,8BACrB,CAAS,EACD,MACH,CAED,MAAMC,EAAcF,EAAK,KAAK,IAAIG,GAAO;AAAA,mBAC1BA,EAAI,aAAa,0CAA0CA,EAAI,IAAI;AAAA;AAAA,4BAE1DA,EAAI,UAAU,UAAUA,EAAI,IAAI;AAAA,wBACpCA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,wBAIRA,EAAI,KAAK;AAAA;AAAA,wBAETA,EAAI,KAAK;AAAA;AAAA,2BAENA,EAAI,QAAQ;AAAA;AAAA,4BAEXA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,KAIpC,EAAE,KAAK,EAAE,EAEVP,EAAiB,UAAYM,EAG7BL,EAAS,QAAS,CACtB,CC/CO,SAASO,EAAcC,EAAO,CAErC,MAAMC,EAAM,2BAENC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIE,CAAM,EAAE,EAAE,KAAMC,GAAQ,CAC3C,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAK9B,OAAOA,EAAI,KAAM,CACrB,CAAC,CAED,CClBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAmB,SAAS,cAAc,SAAS,EAEnDf,EAAmB,SAAS,cAAc,oBAAoB,EAMpEc,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASC,GAAuB,CAC5BF,EAAiB,UAAU,OAAO,QAAQ,CAC9C,CAEA,SAASG,GAAuB,CAC5BH,EAAiB,UAAU,IAAI,QAAQ,CAC3C,CAEA,SAASC,EAAaG,EAAO,CACzBA,EAAM,eAAgB,EAClBL,IACJd,EAAiB,UAAY,IAG7B,MAAMoB,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EAAC,YAAa,EAChF,GAAIC,IAAe,GAAI,CACnBf,EAAS,KAAK,CACV,QAAS,yBACrB,CAAS,EACD,MACH,CAEDY,IAEAT,EAAcY,CAAU,EACvB,KAAKjB,CAAa,EAClB,MAAMkB,CAAO,EACb,QAAQ,IAAM,CACXH,IACIJ,GACAA,EAAK,MAAK,CAGtB,CAAK,CACL,CAEA,SAASO,EAAQC,EAAO,CACpBjB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qBAAqBiB,CAAK,EAC3C,CAAK,CACL"}